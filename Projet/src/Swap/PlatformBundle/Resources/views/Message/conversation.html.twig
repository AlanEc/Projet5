{% extends "SwapPlatformBundle::layout.html.twig" %}

{% block title %}{{ parent() }} - Index{% endblock %}

{% block body %}
	<div class="container">
		<div class="row">
			<div class="col-md-3 col-md-offset-1">
				<div class="panel-body shadow Compte">
					<img class="img-responsive" src="{{asset('bundles/swapplatform/images/silhouette.png') }}">
				</div>
			</div>
			<div id="conversation-message" class="col-md-offset-1 col-md-6">
				<div id="bloc-message-conversation" class="panel-body shadow Compte">
					{{ form_start(form) }}
					{{ form_errors(form, { 'attr': { 'class' : 'form-control' }} ) }}
					{{ form_row(form.content, { 'attr': { 'class' : 'form-control' }} ) }}
					{{ form_row(form.save, { 'attr': { 'class' : 'btn btn-group pull-right' }} ) }}        
					{{ form_rest(form, { 'attr': { 'class' : 'form-control' }} ) }}
					{{ form_end(form, { 'attr': { 'class' : 'form-control' }} ) }}
				</div>
			
			{% for message in listMessage %}
				{% if message.author.id == userId %}
					<div class="row">
						<div id="conversation-answer" class="col-xs-10">
							<div id="bloc-reponse-conversation" class="panel-body shadow Compte">
								{{ message.content }}
							</div>
						</div>
						<div id="polygon" class="col-xs-1">
							<svg width="100%" height="30" viewBox="0 0 100 100" preserveAspectRatio="none">
								<polygon points="0,0 100,0 0,100" style="fill:#fff" />
							</svg>
						</div>
						<div id="silhouette" class="col-xs-1">
							<img class="img-responsive img-circle" src="{{asset('bundles/swapplatform/images/silhouette.png') }}"  />
						</div>
					</div>
				{% else %}
					<div class="row">
						<div id="silhouette" class="col-xs-1">
							<img class="img-responsive img-circle" src="{{asset('bundles/swapplatform/images/silhouette.png') }}"  />
						</div>
						<div id="conversation-answer" class="col-xs-10">
							<div id="bloc-reponse-conversation" class="panel-body shadow Compte">
								{{ message.content }}
							</div>
						</div>
				{% endif %}
			{% endfor %}
			</div>
		
	</div>
{% endblock %}